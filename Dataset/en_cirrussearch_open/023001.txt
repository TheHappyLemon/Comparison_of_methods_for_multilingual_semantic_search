The Treaty of Riga was signed in Riga, Latvia, on 18 March 1921 between Poland on one side and Soviet Russia (acting also on behalf of Soviet Belarus) and Soviet Ukraine on the other, ending the Polish–Soviet War (1919–1921). The chief negotiators of the peace were Jan Dąbski for the Polish side and Adolph Joffe for the Soviet side. Under the treaty, Poland recognized Soviet Ukraine and Belarus, abrogating its 1920 Treaty of Warsaw with the Ukrainian People's Republic. The Treaty of Riga established a Polish–Soviet border about 250 kilometres (160 mi) east of the Curzon Line, incorporating large numbers of Ukrainians and Belarusians into the Second Polish Republic. Poland, which agreed to withdraw from areas further east (notably Minsk), renounced claims to the Polish–Lithuanian Commonwealth's border prior to the 1772 First Partition of Poland, recovering only those eastern regions (Kresy) lost to Russia in the 1795 Third Partition. While Russia and Ukraine agreed to withdraw their claims to lands west of the demarcated border line. Poland, by recognising the puppet states of the USSR and simultaneously withdrawing recognition of the UPR (its only ally in the Polish-Bolshevik war), was in fact giving up on the federation programme, while Russia approved of the fact that the whole of Galicia, as well as the territories of the former Russian Empire, inhabited largely by non-Polish people, were to be found within Poland's borders. The treaty also addressed matters of sovereignty, citizenship, national minorities, repatriation, and diplomatic and commercial relations. The Treaty lasted until the invasion of Poland by the Soviet Union in 1939, and their borders were redefined by an agreement in 1945.