The Almoravid dynasty (Arabic: المرابطون, romanized: Al-Murābiṭūn, lit. 'those from the ribats') was an imperial Berber Muslim dynasty centered in the territory of present-day Morocco. It established an empire in the 11th century that stretched over the western Maghreb and Al-Andalus, starting in the 1050s and lasting until its fall to the Almohads in 1147. The dynasty emerged from a coalition of the Lamtuna, Gudala, and Massufa, nomadic Berber tribes living in what is now Mauritania and the Western Sahara, traversing the territory between the Draa, the Niger, and the Senegal rivers. During their expansion into the Maghreb, the Almoravids founded the city of Marrakesh as a capital, c. 1070. The Almoravids were crucial in preventing the fall of Al-Andalus (Muslim rule in Iberia) to the Iberian Christian kingdoms, when they decisively defeated a coalition of the Castilian and Aragonese armies at the Battle of Sagrajas in 1086. This enabled them to control an empire that stretched 3,000 km (1,900 mi) north to south. Their rulers never claimed the title of caliph and instead took on the title of Amir al-Muslimīn ("Prince of the Muslims") while formally acknowledging the overlordship of the Abbasid Caliphs in Baghdad. However, the rule of the dynasty was relatively short-lived. The Almoravids fell—at the height of their power—when they failed to stop the Masmuda-led rebellion initiated by Ibn Tumart. As a result, their last king Ishaq ibn Ali was killed in Marrakesh in April 1147 by the Almohad Caliphate, which replaced them as a ruling dynasty both in the Maghreb and Al-Andalus.